# PROMPTS.md

Фиксация обращений к AI в рамках выполнения тестового задания
«Веб-сервис: Заявки в ремонтную службу».

Основная архитектура и реализация выполнены самостоятельно.
AI использовался точечно для проверки идей, SQL-запросов и структуры документации.

Формат:
- Дата и время (локальное)
- Инструмент
- Текст запроса (без редактирования)
- Цель использования

---

## 2026-02-16 18:20

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Как корректно реализовать защиту от race condition при одновременном обновлении строки в PostgreSQL?

Цель:
Проверить выбранный способ обработки параллельных запросов.


---

## 2026-02-16 18:35

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Пример SQL-запроса, который обновляет статус заявки только если текущий статус = 'assigned'.

Цель:
Сверить корректность conditional UPDATE.


---

## 2026-02-16 18:42

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Если UPDATE ... WHERE status = 'assigned' не изменил ни одной строки, какой HTTP-статус правильнее вернуть — 400 или 409?

Цель:
Уточнить корректный REST-подход к обработке конфликта.


---

## 2026-02-16 19:10

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Можно ли полностью решить race condition только на уровне приложения без использования транзакций или условного UPDATE?

Цель:
Проверить альтернативные варианты решения.

Комментарий:
Решение оказалось ненадёжным — оставила вариант с атомарным UPDATE в БД.


---

## 2026-02-17 10:15

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Пример структуры README для небольшого backend-проекта с Docker Compose.

Цель:
Проверить, что ничего не забыто в инструкции по запуску.


---

## 2026-02-17 10:40

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Что стоит написать в DECISIONS.md для тестового backend-проекта?

Цель:
Помочь структурировать уже принятые архитектурные решения.


---

## 2026-02-17 11:05

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Пример bash-скрипта для отправки двух параллельных curl-запросов к одному endpoint.

Цель:
Сделать удобную проверку сценария гонки.


---

## 2026-02-17 11:25

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Как в Jest протестировать ситуацию, когда один из параллельных запросов должен вернуть 409?

Цель:
Понять общий подход к тестированию конкурентных сценариев.


---

## 2026-02-17 11:40

Инструмент: ChatGPT (GPT-4)

Текст запроса:

Можно ли использовать SQLite для демонстрации race condition или лучше PostgreSQL?

Цель:
Убедиться, что выбранная БД корректно поддерживает нужный сценарий.

Комментарий:
В итоге оставила PostgreSQL для более предсказуемого поведения транзакций.
